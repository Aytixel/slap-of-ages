\hypertarget{server__socket_8c}{}\doxysection{Référence du fichier src/server\+\_\+socket.c}
\label{server__socket_8c}\index{src/server\_socket.c@{src/server\_socket.c}}


Serveur socket simple permettant l\textquotesingle{}échange de paquet de manière non bloquante.  


{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/fcntl.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$poll.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}socket.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}server\+\_\+socket.\+h\char`\"{}}\newline
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structserver__t}{server\+\_\+t}} $\ast$ \mbox{\hyperlink{server__socket_8c_a641d3877e58ea8e6c9760312e23fa650}{create\+Server}} (char $\ast$hostname, uint16\+\_\+t port)
\begin{DoxyCompactList}\small\item\em Créer un serveur. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$ \mbox{\hyperlink{server__socket_8c_a028de4bec914124d8950eb1501b4cb39}{accept\+Server\+Client}} (\mbox{\hyperlink{structserver__t}{server\+\_\+t}} $\ast$server)
\begin{DoxyCompactList}\small\item\em Vérifie si il y a des connexions à accepter, et les accepte. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{server__socket_8c_ae64319cb1d181c48adea7f3b1deb0cee}{is\+Client\+Down}} (\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$\mbox{\hyperlink{client__connection_8h_ad72bb670c0751a5e8729d02bf7482d63}{client}})
\begin{DoxyCompactList}\small\item\em Vérifie si la connexion au client est fermée. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{server__socket_8c_a020eb9c58a6fcf5fbb6e9425dee34e81}{send\+To\+Server\+Client}} (\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$\mbox{\hyperlink{client__connection_8h_ad72bb670c0751a5e8729d02bf7482d63}{client}}, \mbox{\hyperlink{structpacket__t}{packet\+\_\+t}} $\ast$packet)
\begin{DoxyCompactList}\small\item\em Envoie un paquet au client. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structpacket__t}{packet\+\_\+t}} $\ast$ \mbox{\hyperlink{server__socket_8c_a9d43d2b6f23fa8f52382a3cdb4d595dd}{recv\+From\+Server\+Client}} (\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$\mbox{\hyperlink{client__connection_8h_ad72bb670c0751a5e8729d02bf7482d63}{client}})
\begin{DoxyCompactList}\small\item\em Essaye de recevoir un paquet du client. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{server__socket_8c_aab1b91251a1b3c6b7efb503af44d6ba8}{delete\+Server\+Client}} (\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$$\ast$\mbox{\hyperlink{client__connection_8h_ad72bb670c0751a5e8729d02bf7482d63}{client}})
\begin{DoxyCompactList}\small\item\em Détruit un client serveur. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{server__socket_8c_a1778c7f9e97e6068abe92d0d47d33a7d}{delete\+Server}} (\mbox{\hyperlink{structserver__t}{server\+\_\+t}} $\ast$$\ast$server)
\begin{DoxyCompactList}\small\item\em Détruit un serveur. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Serveur socket simple permettant l\textquotesingle{}échange de paquet de manière non bloquante. 

\begin{DoxyAuthor}{Auteur}
Lucas Dureau 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
31/01/2023 
\end{DoxyDate}


\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{server__socket_8c_a028de4bec914124d8950eb1501b4cb39}\label{server__socket_8c_a028de4bec914124d8950eb1501b4cb39}} 
\index{server\_socket.c@{server\_socket.c}!acceptServerClient@{acceptServerClient}}
\index{acceptServerClient@{acceptServerClient}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{acceptServerClient()}{acceptServerClient()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}}$\ast$ accept\+Server\+Client (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structserver__t}{server\+\_\+t}} $\ast$}]{server }\end{DoxyParamCaption})}



Vérifie si il y a des connexions à accepter, et les accepte. 


\begin{DoxyParams}{Paramètres}
{\em server} & serveur à utiliser \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
un pointeur sur un {\bfseries{client serveur}} 
\end{DoxyReturn}
\mbox{\Hypertarget{server__socket_8c_a641d3877e58ea8e6c9760312e23fa650}\label{server__socket_8c_a641d3877e58ea8e6c9760312e23fa650}} 
\index{server\_socket.c@{server\_socket.c}!createServer@{createServer}}
\index{createServer@{createServer}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{createServer()}{createServer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structserver__t}{server\+\_\+t}}$\ast$ create\+Server (\begin{DoxyParamCaption}\item[{char $\ast$}]{hostname,  }\item[{uint16\+\_\+t}]{port }\end{DoxyParamCaption})}



Créer un serveur. 


\begin{DoxyParams}{Paramètres}
{\em hostname} & nom d\textquotesingle{}hôte à écouter \\
\hline
{\em port} & port à écouter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
un pointer sur un {\bfseries{serveur}} 
\end{DoxyReturn}
\mbox{\Hypertarget{server__socket_8c_a1778c7f9e97e6068abe92d0d47d33a7d}\label{server__socket_8c_a1778c7f9e97e6068abe92d0d47d33a7d}} 
\index{server\_socket.c@{server\_socket.c}!deleteServer@{deleteServer}}
\index{deleteServer@{deleteServer}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{deleteServer()}{deleteServer()}}
{\footnotesize\ttfamily int delete\+Server (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structserver__t}{server\+\_\+t}} $\ast$$\ast$}]{server }\end{DoxyParamCaption})}



Détruit un serveur. 


\begin{DoxyParams}{Paramètres}
{\em server} & une référence d\textquotesingle{}un pointeur sur un serveur \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
{\bfseries{0}} si tous se passe bien, {\bfseries{-\/1}} si le pointeur en entrée est null 
\end{DoxyReturn}
\mbox{\Hypertarget{server__socket_8c_aab1b91251a1b3c6b7efb503af44d6ba8}\label{server__socket_8c_aab1b91251a1b3c6b7efb503af44d6ba8}} 
\index{server\_socket.c@{server\_socket.c}!deleteServerClient@{deleteServerClient}}
\index{deleteServerClient@{deleteServerClient}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{deleteServerClient()}{deleteServerClient()}}
{\footnotesize\ttfamily int delete\+Server\+Client (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$$\ast$}]{client }\end{DoxyParamCaption})}



Détruit un client serveur. 


\begin{DoxyParams}{Paramètres}
{\em client} & une référence d\textquotesingle{}un pointeur sur un client serveur \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
{\bfseries{0}} si tous se passe bien, {\bfseries{-\/1}} si le pointeur en entrée est null 
\end{DoxyReturn}
\mbox{\Hypertarget{server__socket_8c_ae64319cb1d181c48adea7f3b1deb0cee}\label{server__socket_8c_ae64319cb1d181c48adea7f3b1deb0cee}} 
\index{server\_socket.c@{server\_socket.c}!isClientDown@{isClientDown}}
\index{isClientDown@{isClientDown}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{isClientDown()}{isClientDown()}}
{\footnotesize\ttfamily int is\+Client\+Down (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$}]{client }\end{DoxyParamCaption})}



Vérifie si la connexion au client est fermée. 


\begin{DoxyParams}{Paramètres}
{\em client} & client serveur à utiliser \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
{\bfseries{1 ou 0}} en fonction se si la connexion est fermer ou non 
\end{DoxyReturn}
\mbox{\Hypertarget{server__socket_8c_a9d43d2b6f23fa8f52382a3cdb4d595dd}\label{server__socket_8c_a9d43d2b6f23fa8f52382a3cdb4d595dd}} 
\index{server\_socket.c@{server\_socket.c}!recvFromServerClient@{recvFromServerClient}}
\index{recvFromServerClient@{recvFromServerClient}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{recvFromServerClient()}{recvFromServerClient()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structpacket__t}{packet\+\_\+t}}$\ast$ recv\+From\+Server\+Client (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$}]{client }\end{DoxyParamCaption})}



Essaye de recevoir un paquet du client. 


\begin{DoxyParams}{Paramètres}
{\em client} & client serveur à utiliser \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
un pointeur sur un {\bfseries{paquet}}, et si la réception n\textquotesingle{}est pas terminé, ou rien n\textquotesingle{}a été envoyer renvoie {\bfseries{null}} 
\end{DoxyReturn}
\mbox{\Hypertarget{server__socket_8c_a020eb9c58a6fcf5fbb6e9425dee34e81}\label{server__socket_8c_a020eb9c58a6fcf5fbb6e9425dee34e81}} 
\index{server\_socket.c@{server\_socket.c}!sendToServerClient@{sendToServerClient}}
\index{sendToServerClient@{sendToServerClient}!server\_socket.c@{server\_socket.c}}
\doxysubsubsection{\texorpdfstring{sendToServerClient()}{sendToServerClient()}}
{\footnotesize\ttfamily int send\+To\+Server\+Client (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structserver__client__t}{server\+\_\+client\+\_\+t}} $\ast$}]{client,  }\item[{\mbox{\hyperlink{structpacket__t}{packet\+\_\+t}} $\ast$}]{packet }\end{DoxyParamCaption})}



Envoie un paquet au client. 


\begin{DoxyParams}{Paramètres}
{\em client} & client serveur à utiliser \\
\hline
{\em packet} & paquet à envoyer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
{\bfseries{0}} si tous se passe bien, {\bfseries{-\/1}} si il y a un problème durant l\textquotesingle{}envoie 
\end{DoxyReturn}
